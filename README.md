# WebGLとは
## 勘違いされていること

- 総合的な3D APIだと思われてる
  - 単なるラスタライゼーションエンジン
    - 入力されたコードに従ってポイントやライン、トライアングルを描画するだけ

## POINT
- WebGLはGPUで処理される
  - コードは組となる2つの関数として与える必要がある
    - 頂点シェーダ
    - フラグメントシェーダ
  - これらをGLSLという言語で記述できる。この二つを合わせたものをプログラムという

### 頂点シェーダ
- 頂点アトリビュートを計算する
  
様々な座標に応じ、この関数はポイントやライン、トライアングルを含む多様なプリミティブなラスタライズに必要な値を出力する。
２つ目のユーザ定義関数、フラグメントシェーダがこれらのプリミティブをラスタライズするために呼び出される
そのフラグメントシェーダが担当するのが描画中の**プリミティブの各ピクセルの色を計算すること**

**WebGL APIのほぼすべてはこれら２関数の実行に必要なステートの設定**に関すること
描画対象のそれぞれについて、ステートを設定し、drawArrays関数からdrawElements関数を呼び出して、GPU上でシェーダを実行する

## WebGLのレンダリングパイプライン上にある各項目について

### 頂点バッファオブジェクト
描画対象のジオメトリを定義するデータを保持する
通常は3Dオブジェクトの頂点を表す座標が保持され
WebGL内で頂点バッファオブジェクトとして処理される
他にも頂点バッファオブジェクトとしてモデリングできるものには頂点の法線、色、テクスチャ座標などの要素がある

### インデックスバッファオブジェクト
頂点バッファオブジェクトがジオメトリの頂点を保持する一方、インデックスバッファオブジェクトはレンダリングパイプラインが描画プリミティブを構築するときに使用する
頂点同士の関係を保持する
つまり、このバッファ内の値は頂点バッファ内の各頂点のインデックスとして解釈される

### 頂点シェーダ
各頂点に対して呼び出される
このシェーダは頂点座標や法線、色、テクスチャ座標などの頂点ごとのデータを操作する
これらのデータは頂点シェーダ内でアトリビュートとして扱われる
それぞれのアトリビュートは頂点データを読み取る
頂点バッファオブジェクトと関連付けられている

### フラグメントシェーダ
3つの頂点を組み合わせると三角形となる
この三角形の表面全体に色を設定しなければならない
そうしないと物体表面に色がつかない
表面の各要素はフラグメントと呼ばれる
表面はスクリーン上に描画されるので、より一般的にはそれらの要素はピクセルと呼ばれる
フラグメントシェーダの主な目的はそれぞれのピクセルの色を計算すること
